---
title: 语法高亮模块
---

语法模块通过自动检测和应用语法高亮来增强代码块格式。优秀的 [highlight.js](https://highlightjs.org/) 库被用作依赖项来解析和标记代码块。

通常,你可以根据需要[配置](https://highlightjs.readthedocs.io/en/latest/api.html#configure-options) highlight.js。但是,如果你使用的是 highlight.js &lt; v11,Quill 期望并要求 `useBR` 选项为 `false`。

Quill 支持 highlight.js v9.12.0 及更高版本。

### 用法

<Sandpack
  defaultShowPreview
  files={{
  "/index.html":  `
<!-- 包含你喜欢的 highlight.js 样式表 -->
<link href="{{site.highlightjs}}/styles/atom-one-dark.min.css" rel="stylesheet">

<!-- 包含 highlight.js 库 -->
<script src="{{site.highlightjs}}/highlight.min.js"></script>

<link href="{{site.cdn}}/quill.snow.css" rel="stylesheet" />
<script src="{{site.cdn}}/quill.js"></script>

<div id="editor"></div>

<script>
const quill = new Quill('#editor', {
  modules: {
    syntax: true,              // 包含语法模块
    toolbar: [['code-block']]  // 在工具栏中包含按钮
  },
  theme: 'snow'
});

const Delta = Quill.import('delta');
quill.setContents(
  new Delta()
    .insert('const language = "JavaScript";')
    .insert('\\n', { 'code-block': 'javascript' })
    .insert('console.log("I love " + language + "!");')
    .insert('\\n', { 'code-block': 'javascript' })
);
</script>
`}}
/>

### 使用 npm 包

如果你将 highlight.js 安装为 npm 包并且不想将其暴露给 `window`,则需要将其作为选项传递给语法模块:

```js
import Quill from 'quill';
import hljs from 'highlight.js';

const quill = new Quill('#editor', {
  modules: {
    syntax: { hljs },
  },
});
```